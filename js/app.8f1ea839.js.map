{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PersonEdit.vue?d0e1","webpack:///./src/ui/UiPopup.vue?13fe","webpack:///./src/App.vue?aa33","webpack:///./src/api/service.js","webpack:///./src/components/PersonGroup.vue?0732","webpack:///./src/components/PersonCard.vue?f4d0","webpack:///./src/components/Avatar.vue?91f4","webpack:///src/components/Avatar.vue","webpack:///./src/components/Avatar.vue?7d9d","webpack:///./src/components/Avatar.vue","webpack:///src/components/PersonCard.vue","webpack:///./src/components/PersonCard.vue?6b52","webpack:///./src/components/PersonCard.vue","webpack:///./src/components/PersonCardManager.vue?562e","webpack:///src/components/PersonCardManager.vue","webpack:///./src/components/PersonCardManager.vue?49f4","webpack:///./src/components/PersonCardManager.vue","webpack:///src/components/PersonGroup.vue","webpack:///./src/components/PersonGroup.vue?c95a","webpack:///./src/components/PersonGroup.vue","webpack:///./src/components/PersonEdit.vue?5a9d","webpack:///./src/ui/UiPopup.vue?99de","webpack:///src/ui/UiPopup.vue","webpack:///./src/ui/UiPopup.vue?a17f","webpack:///./src/ui/UiPopup.vue","webpack:///src/components/PersonEdit.vue","webpack:///./src/components/PersonEdit.vue?3922","webpack:///./src/components/PersonEdit.vue","webpack:///./src/components/PersonSearch.vue?a224","webpack:///src/components/PersonSearch.vue","webpack:///./src/components/PersonSearch.vue?acc5","webpack:///./src/components/PersonSearch.vue","webpack:///./src/ui/UiLazyList.vue?2eb7","webpack:///src/ui/UiLazyList.vue","webpack:///./src/ui/UiLazyList.vue?7b1f","webpack:///./src/ui/UiLazyList.vue","webpack:///./src/ui/UiLazy.vue?4d1d","webpack:///src/ui/UiLazy.vue","webpack:///./src/ui/UiLazy.vue?cf84","webpack:///./src/ui/UiLazy.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/PersonCard.vue?30d0","webpack:///./src/components/Avatar.vue?20a3","webpack:///./src/components/PersonGroup.vue?a2c1","webpack:///./src/components/PersonSearch.vue?7fd3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","model","callback","$$v","filterString","expression","filteredAndGroupedPersons","scopedSlots","_u","fn","ref","currentItemIndex","onItemLoad","root","_l","index","position","persons","on","$event","onPersonEdit","_e","currentEditPerson","changePersonData","isPersonEditMode","staticRenderFns","ApiService","baseUrl","_instance","options","fetch","method","response","json","getComments","comments","forEach","person","filter","comment","commentId","personId","split","id","staticClass","_s","groupName","getComponent","tag","class","classObject","avatar","email","imgUrl","onError","onLoad","props","url","type","isImageLoad","watch","handler","val","immediate","mounted","setTimeout","methods","component","components","Avatar","required","inject","theme","default","computed","$emit","PersonCard","provide","PersonCardManager","componentsInfo","defaultComponent","proxy","saveData","directives","rawName","personData","domProps","target","composing","$set","onPersonDataChange","$$selectedVal","Array","selected","map","_value","multiple","checkDataChange","isPersonDataChange","hide","closeModal","confirmChangePopupDisplay","_t","show","UiPopup","positions","created","event","isFormValid","toLowerCase","match","console","changeValue","staticStyle","$refs","list","changeCurrentItemIndex","rootMargin","threshold","observer","beforeDestroy","UiLazy","UiLazyList","PersonSearch","PersonEdit","PersonGroup","isDataLoading","getPositions","filteredPersons","acc","fetchPersons","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.8f1ea839.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/goodt/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonEdit.vue?vue&type=style&index=0&id=427141b8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiPopup.vue?vue&type=style&index=0&id=072a4169&lang=pcss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.isDataLoading)?[_vm._v(\" Загрузка \")]:[_c('person-search',{model:{value:(_vm.filterString),callback:function ($$v) {_vm.filterString=$$v},expression:\"filterString\"}}),_c('section',[(_vm.filteredAndGroupedPersons.length)?[_c('ui-lazy-list',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar currentItemIndex = ref.currentItemIndex;\nvar onItemLoad = ref.onItemLoad;\nvar root = ref.root;\nreturn [_vm._l((_vm.filteredAndGroupedPersons),function(ref,index){\nvar position = ref[0];\nvar persons = ref[1];\nreturn [((currentItemIndex >= index))?_c('ui-lazy',{key:position,attrs:{\"root\":root},on:{\"load\":function($event){return onItemLoad(index)}}},[_c('person-group',{attrs:{\"group-name\":position,\"persons\":persons},on:{\"edit\":_vm.onPersonEdit}})],1):_vm._e()]})]}}],null,false,374804053)})]:[_vm._v(\" Нет данных \")]],2),(_vm.isPersonEditMode)?_c('person-edit',{attrs:{\"person\":_vm.currentEditPerson},on:{\"change\":_vm.changePersonData},model:{value:(_vm.isPersonEditMode),callback:function ($$v) {_vm.isPersonEditMode=$$v},expression:\"isPersonEditMode\"}}):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @typedef {object} PersonGroup\n * @property {string} name\n * @property {Person[]} persons\n */\n/**\n * @typedef {object} Person\n * @property {number} id\n * @property {string} name\n * @property {string} email\n * @property {string} avatar\n * @property {string} position\n * @property {Comment[]} comments\n */\n/**\n * @typedef {object} Comment\n * @property {number} id\n * @property {number} personId\n * @property {string} text\n * @property {string} createdAt\n */\n/**\n * @typedef {object} ApiServiceOptions\n * @property {string} baseUrl\n */\nexport default class ApiService {\n    _instance = null\n    /**\n     * @param {ApiServiceOptions} options\n     */\n    constructor({ baseUrl = 'https://61adfd3ea7c7f3001786f510.mockapi.io/' } = {}) {     \n        // Singleton\n        if (!ApiService._instance) {\n            this.options = { baseUrl };\n            \n            ApiService._instance = this;\n        }\n        return ApiService._instance;\n    }\n    /**\n     * @returns {Promise.<Person[], Error>}\n     */\n    async getPersons() {\n        const response = await fetch(this.options.baseUrl + 'person', {method: 'GET'})\n        const persons = await response.json()\n        \n        const comments = await this.getComments()\n\n        persons.forEach( person => {\n          person.comments = comments.filter(comment => {\n            // почему-то с бэка иногда приходит id не числом, \n            // а как \"personId ...\"\n            const commentId = comment.personId.split(' ').length === 1 ? comment.personId : comment.personId.split(' ')[1]\n            \n            return +commentId === +person.id\n          })\n        } )\n      \n        return persons\n    }\n    /**\n     * @returns {Promise.<Comment[], Error>}\n     */\n    async getComments() {\n        const response = await fetch(this.options.baseUrl + 'comment', {method: 'GET'})\n\n        return await response.json()\n        // @TODO implement\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"person-group\"},[_c('h2',{staticClass:\"person-group__title\"},[_vm._v(_vm._s(_vm.groupName))]),_c('div',{staticClass:\"person-group__list\"},_vm._l((_vm.persons),function(person){return _c(_vm.getComponent(),{key:person.id,tag:\"component\",attrs:{\"person\":person},on:{\"edit\":function($event){return _vm.onPersonEdit(person)}}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\",class:_vm.classObject},[_c('div',{staticClass:\"card__avatar\"},[_c('avatar',{attrs:{\"url\":_vm.person.avatar}}),(_vm.person.comments.length)?_c('div',{staticClass:\"card__comments-count\"},[_vm._v(\" \"+_vm._s(_vm.person.comments.length)+\" \")]):_vm._e()],1),_c('div',{staticClass:\"card__inner\"},[_c('div',{staticClass:\"card__name\",attrs:{\"title\":_vm.person.name}},[_vm._v(\" \"+_vm._s(_vm.person.name)+\" \")]),_c('div',{staticClass:\"card__email\",attrs:{\"title\":_vm.person.email}},[_vm._v(\" \"+_vm._s(_vm.person.email)+\" \")])]),_c('div',{staticClass:\"card__controls\"},[_c('span',{staticClass:\"action-btn card__active-btn\",on:{\"click\":_vm.onPersonEdit}},[_vm._v(\" edit \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{ref:\"img\",staticClass:\"avatar\",attrs:{\"src\":_vm.imgUrl,\"alt\":\"avatar\"},on:{\"error\":_vm.onError,\"load\":_vm.onLoad}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <img \n        class=\"avatar\" \n        :src=\"imgUrl\" \n        alt=\"avatar\" \n        ref=\"img\" \n        @error=\"onError\"\n        @load=\"onLoad\"\n    />\n</template>\n\n<script>\nexport default {\n    props: {\n        url: { type: String }\n    },\n    data() {\n        return { \n            imgUrl: '',\n            isImageLoad: false\n        }\n    },\n    watch: {\n        url: {\n            handler(val) {\n                this.imgUrl = val;\n            },\n            immediate: true\n        }\n    },\n    mounted() {\n        // Картинки очень долго грузятся поэтому я сделал такой таймер на 2 секунды, чтобы, \n        // если за 2 секунды картинки не загрузилиьс, тогда я меняю изображения на заглушки\n        setTimeout(() => {\n            if (!this.isImageLoad) {\n                this.onError()\n            }\n        }, 2000)\n    },\n    methods: {\n        onError() {\n            this.imgUrl = process.env.BASE_URL + 'avatar.webp';\n        },\n        onLoad() {\n            this.isImageLoad = true\n        }\n    }\n};\n</script>\n\n<style scoped>\n.avatar {\n    display: block;\n    width: 4rem;\n    height: 4rem;\n    border-radius: var(--border-radius-round);\n    object-fit: cover;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Avatar.vue?vue&type=template&id=215370ea&scoped=true&\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Avatar.vue?vue&type=style&index=0&id=215370ea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"215370ea\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div \r\n        class=\"card\" \r\n        :class=\"classObject\"\r\n    >\r\n        <div class=\"card__avatar\">\r\n            <avatar :url=\"person.avatar\" />\r\n\r\n            <div v-if=\"person.comments.length\"\r\n                 class=\"card__comments-count\">\r\n                {{ person.comments.length }}\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"card__inner\">\r\n            <div\r\n                class=\"card__name\"\r\n                :title=\"person.name\"\r\n            >\r\n                {{ person.name }}\r\n            </div>\r\n\r\n            <div\r\n                class=\"card__email\"\r\n                :title=\"person.email\"\r\n            >\r\n                {{ person.email }}\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"card__controls\">\r\n            <span\r\n                class=\"action-btn card__active-btn\"\r\n                @click=\"onPersonEdit\"\r\n            >\r\n                edit\r\n            </span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Avatar from \"./Avatar\";\r\nexport default {\r\n    name: \"PersonCard\",\r\n    components: { Avatar },\r\n    props: {\r\n        person: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n    },\r\n    inject: {\r\n        theme: { default: 'light' }\r\n    },\r\n    methods: {\r\n        onPersonEdit(person) {\r\n            this.$emit(\"edit\", person);\r\n        }\r\n    },\r\n    computed: {\r\n        classObject() {            \r\n            return {\r\n                'card_theme_light': this.theme === 'light',\r\n                'card_theme_dark': this.theme === 'dark'\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"pcss\" scoped>\r\n.card {\r\n    padding: 1rem;\r\n    box-shadow: 0 1px 3px 1px rgba(0, 0, 0, 0.1);\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n    &_theme {\r\n        &_dark {\r\n            background-color: var(--color-primary);\r\n            color: var(--color-white);\r\n            \r\n            & .card__active-btn {\r\n                color: var(--color-white);\r\n            }\r\n\r\n            & .card__comments-count {\r\n                background: var(--color-white);\r\n                color: var(--color-primary);\r\n            }\r\n        }\r\n        \r\n        &_light {\r\n            background-color: var(--color-white);\r\n            color: var(--color-black);\r\n        }\r\n    }\r\n\r\n    &__inner {\r\n        overflow: hidden;\r\n    }\r\n\r\n    &__avatar {\r\n        position: relative;\r\n        margin-right: 1rem;\r\n    }\r\n\r\n    &__email {\r\n        font-size: var(--font-size-small);\r\n    }\r\n\r\n    &__name {\r\n        font-weight: bold;\r\n    }\r\n\r\n    &__email, &__name {\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n    }\r\n\r\n    &__controls {\r\n        margin-left: auto;\r\n    }\r\n\r\n    &__comments-count {\r\n        position: absolute;\r\n        top: -0.55em;\r\n        right: -0.55em;\r\n        background: var(--color-primary);\r\n        width: 1.1em;\r\n        height: 1.1em;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: var(--font-size-small);\r\n        color: var(--color-white);\r\n    }\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonCard.vue?vue&type=template&id=70f5b3c8&scoped=true&\"\nimport script from \"./PersonCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonCard.vue?vue&type=style&index=0&id=70f5b3c8&lang=pcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70f5b3c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('person-card',{attrs:{\"person\":_vm.person},on:{\"edit\":function($event){return _vm.$emit('edit', $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <person-card :person=\"person\" @edit=\"$emit('edit', $event)\"/>\r\n</template>\r\n\r\n<script>\r\nimport PersonCard from \"./PersonCard\";\r\nexport default {\r\n    name: \"PersonCardManager\",\r\n    components: { PersonCard },\r\n    props: {\r\n        person: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    provide() {\r\n        return {\r\n            theme: 'dark'\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCardManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCardManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonCardManager.vue?vue&type=template&id=055e002e&scoped=true&\"\nimport script from \"./PersonCardManager.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonCardManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"055e002e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"person-group\">\r\n        <h2 class=\"person-group__title\">{{ groupName }}</h2>\r\n\r\n        <div class=\"person-group__list\">\r\n            <component\r\n                v-for=\"person in persons\"\r\n                :key=\"person.id\"\r\n                :is=\"getComponent()\"\r\n                :person=\"person\"\r\n                @edit=\"onPersonEdit(person)\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport PersonCard from \"./PersonCard\";\r\nimport PersonCardManager from \"./PersonCardManager\";\r\n\r\nexport default {\r\n    name: \"PersonGroup\",\r\n    components: { PersonCard, PersonCardManager },\r\n    data() {\r\n        return {\r\n            componentsInfo: {\r\n                'manager': PersonCardManager\r\n            },\r\n            defaultComponent: PersonCard\r\n        }\r\n    },\r\n    props: {\r\n        groupName: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        persons: {\r\n            type: Array,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        onPersonEdit(person) {\r\n            this.$emit(\"edit\", person);\r\n        },\r\n        getComponent() {\r\n            const componentType = this.componentsInfo[this.groupName.toLowerCase()]\r\n            return componentType ? componentType : this.defaultComponent\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"pcss\" scoped>\r\n.person-group {\r\n    margin-bottom: 2rem;\r\n\r\n    &__title {\r\n        margin-bottom: 1rem;\r\n    }\r\n    \r\n    &__list {\r\n        display: grid;\r\n        gap: 1rem;\r\n        grid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonGroup.vue?vue&type=template&id=6502402c&scoped=true&\"\nimport script from \"./PersonGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonGroup.vue?vue&type=style&index=0&id=6502402c&lang=pcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6502402c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ui-popup',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h3',[_vm._v(\"Имя Фамилия Сотрудника\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('form',{staticClass:\"form\",on:{\"submit\":_vm.saveData}},[_c('div',{staticClass:\"form__inner\"},[_c('div',{staticClass:\"form__elem\"},[_c('label',{staticClass:\"form__label\"},[_vm._v(\" name \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.personData.name),expression:\"personData.name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.personData.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.personData, \"name\", $event.target.value)},_vm.onPersonDataChange]}})]),_c('div',{staticClass:\"form__elem\"},[_c('label',{staticClass:\"form__label\"},[_vm._v(\" email \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.personData.email),expression:\"personData.email\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.personData.email)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.personData, \"email\", $event.target.value)},_vm.onPersonDataChange]}})]),_c('div',{staticClass:\"form__elem\"},[_c('label',{staticClass:\"form__label\"},[_vm._v(\" position \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.personData.position),expression:\"personData.position\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.personData, \"position\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onPersonDataChange]}},_vm._l((_vm.positions),function(value){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(value)+\" \")])}),0)])]),_c('div',{staticClass:\"form__buttons\"},[_c('button',{staticClass:\"outline\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.checkDataChange}},[_vm._v(\" Отменить \")]),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":!_vm.isPersonDataChange}},[_vm._v(\" Сохранить \")])])]),_c('ui-popup',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h3',[_vm._v(\"Точно хотите отменить изменения\")])]},proxy:true},{key:\"footer\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('div',{staticClass:\"form__buttons\"},[_c('button',{staticClass:\"outline\",on:{\"click\":_vm.closeModal}},[_vm._v(\" Да \")]),_c('button',{on:{\"click\":hide}},[_vm._v(\" Нет \")])])]}}]),model:{value:(_vm.confirmChangePopupDisplay),callback:function ($$v) {_vm.confirmChangePopupDisplay=$$v},expression:\"confirmChangePopupDisplay\"}})]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"popup\"},[_c('div',{staticClass:\"dialog\"},[_c('div',{staticClass:\"dialog-header\"},[_vm._t(\"header\")],2),_c('div',{staticClass:\"dialog-body\"},[_vm._t(\"body\")],2),_c('div',{staticClass:\"dialog-footer\"},[_vm._t(\"footer\",null,null,{hide: _vm.hide})],2)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"value\" class=\"popup\">\n        <div class=\"dialog\">\n            <div class=\"dialog-header\">\n                <slot name=\"header\"></slot>\n            </div>\n            <div class=\"dialog-body\">\n                <slot name=\"body\"></slot>\n            </div>\n            <div class=\"dialog-footer\">\n                <slot name=\"footer\" v-bind=\"{hide}\"></slot>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'UiPopup',\n    props: {\n        value: {\n            type: Boolean,\n            required: true\n        }\n    },\n    methods: {\n        hide() {\n            this.$emit('input', false)\n        },\n        show() {\n            this.$emit('input', true)\n        }\n    }\n}\n</script>\n\n<style lang=\"pcss\" scoped>\n.popup {\n    position: fixed;\n    display: grid;\n    place-items: center;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    background: rgba(255, 255, 255, 0.75);\n    .dialog {\n        width: auto;\n        max-width: 50rem;\n        background: var(--color-white);\n        box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.25);\n        &-header {\n            padding: 1.25rem 1.5rem;\n            border-bottom: 1px solid var(--color-grey);\n        }\n        &-body {\n            padding: 1.5rem;\n        }\n        &-footer {\n            padding: 0 1.5rem 1.5rem 1.5rem;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UiPopup.vue?vue&type=template&id=072a4169&scoped=true&\"\nimport script from \"./UiPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./UiPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UiPopup.vue?vue&type=style&index=0&id=072a4169&lang=pcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"072a4169\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <ui-popup v-model=\"value\">\r\n        <template #header>\r\n            <h3>Имя Фамилия Сотрудника</h3>\r\n        </template>\r\n        \r\n        <template #body>\r\n            <form \r\n                class=\"form\" \r\n                @submit=\"saveData\"\r\n            >\r\n                <div class=\"form__inner\">\r\n                    <div class=\"form__elem\">\r\n                        <label class=\"form__label\">\r\n                            name\r\n                        </label>\r\n\r\n                        <input\r\n                            v-model=\"personData.name\"\r\n                            @input=\"onPersonDataChange\"\r\n                            type=\"text\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div class=\"form__elem\">\r\n                        <label class=\"form__label\">\r\n                            email\r\n                        </label>\r\n\r\n                        <input\r\n                            v-model=\"personData.email\"\r\n                            @input=\"onPersonDataChange\"\r\n                            type=\"text\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div class=\"form__elem\">\r\n                        <label class=\"form__label\">\r\n                            position\r\n                        </label>\r\n\r\n                        <select\r\n                            v-model=\"personData.position\"\r\n                            @change=\"onPersonDataChange\"\r\n                        >\r\n                            <option\r\n                                v-for=\"value in positions\"\r\n                                :value=\"value\"\r\n                                :key=\"value\"\r\n                            >\r\n                                {{ value }}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"form__buttons\">\r\n                    <button\r\n                        type=\"button\"\r\n                        class=\"outline\"\r\n                        @click=\"checkDataChange\"\r\n                    >\r\n                        Отменить\r\n                    </button>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        :disabled=\"!isPersonDataChange\"\r\n                    >\r\n                        Сохранить\r\n                    </button>\r\n                </div>\r\n            </form>\r\n            \r\n            <ui-popup v-model=\"confirmChangePopupDisplay\">\r\n                <template #header>\r\n                    <h3>Точно хотите отменить изменения</h3>\r\n                </template>\r\n\r\n                <template #footer=\"{hide}\">\r\n                    <div class=\"form__buttons\">\r\n                        <button\r\n                            class=\"outline\"\r\n                            @click=\"closeModal\"\r\n                        >\r\n                            Да\r\n                        </button>\r\n\r\n                        <button @click=\"hide\">\r\n                            Нет\r\n                        </button>\r\n                    </div>\r\n                </template>\r\n            </ui-popup>\r\n        </template>\r\n    </ui-popup>\r\n</template>\r\n\r\n<script>\r\nimport UiPopup from \"../ui/UiPopup\";\r\nexport default {\r\n    name: \"PersonEdit\",\r\n    components: { UiPopup },\r\n    props: {\r\n        value: {\r\n            type: Boolean,\r\n            required: true\r\n        },\r\n        person: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            confirmChangePopupDisplay: false,\r\n            isPersonDataChange: false,\r\n            personData: null,\r\n            positions: this.getPositions()\r\n        }\r\n    },\r\n    created() {\r\n        this.personData = JSON.parse(JSON.stringify(this.person))\r\n    },\r\n    inject: ['getPositions'],\r\n    methods: {\r\n        saveData(event) {\r\n            event.preventDefault()\r\n            \r\n            if (!this.isPersonDataChange || !this.isFormValid) {\r\n                return\r\n            }\r\n            this.$emit('change', this.personData)\r\n            this.$emit('input', false)\r\n        },\r\n        checkDataChange() {\r\n            if (this.isPersonDataChange) {\r\n                this.confirmChangePopupDisplay = true\r\n                return\r\n            }\r\n            \r\n            this.closeModal()\r\n        },\r\n        closeModal() {\r\n            this.$emit('input', false)            \r\n        },\r\n        onPersonDataChange() {\r\n            this.isPersonDataChange = true\r\n        }\r\n    },\r\n    computed: {\r\n        isFormValid () {\r\n            if (!this.personData) {\r\n                return false\r\n            }\r\n\r\n            const validateEmail = (email) => {\r\n                return String(email)\r\n                .toLowerCase()\r\n                .match(\r\n                    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n                );\r\n            };\r\n            \r\n            const validateName = (name) => {\r\n                return String(name)\r\n                .toLowerCase()\r\n                .match(/[A-Za-zА-ЯЁа-яё][A-Za-zА-ЯЁа-яё][\\S]*\\s[A-Za-zА-ЯЁа-яё][A-Za-zА-ЯЁа-яё][\\S]*/ig)\r\n            }\r\n            \r\n            const {name, email, position} = this.personData\r\n            \r\n            if (!validateEmail(email)) {\r\n                console.log('email');\r\n                return false\r\n            }\r\n            \r\n            if (!position) {\r\n                console.log('position');\r\n                return false\r\n            }\r\n            \r\n            if (!validateName(name)) {\r\n                console.log('name');\r\n                return false\r\n            }\r\n            \r\n            return true\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.form {\r\n    width: 25rem;\r\n\r\n    &__elem {\r\n        margin-bottom: 1rem;\r\n\r\n        &:last-child {\r\n            margin-bottom: 0;\r\n        }\r\n    }\r\n    \r\n    &__label {\r\n        display: block;\r\n        font-size: var(--font-size-small);\r\n        text-transform: uppercase;\r\n        opacity: 0.5;\r\n    }\r\n    \r\n    &__buttons {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 2em;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonEdit.vue?vue&type=template&id=427141b8&scoped=true&\"\nimport script from \"./PersonEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonEdit.vue?vue&type=style&index=0&id=427141b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"427141b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-bar\"},[_c('input',{staticClass:\"search-bar-input\",attrs:{\"placeholder\":\"Search by first/last\",\"type\":\"text\"},domProps:{\"value\":_vm.value},on:{\"input\":_vm.changeValue}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"search-bar\">\r\n        <input\r\n            placeholder=\"Search by first/last\"\r\n            :value=\"value\"\r\n            @input=\"changeValue\"\r\n            type=\"text\"\r\n            class=\"search-bar-input\"\r\n        >\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"PersonSearch\",\r\n    props: {\r\n        value: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        changeValue(event) {\r\n            this.$emit('input', event.target.value)\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"pcss\" scoped>\r\n.search-bar {\r\n    margin-bottom: 1rem;\r\n}\r\n\r\n.search-bar-input {\r\n    width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonSearch.vue?vue&type=template&id=0e6b49d2&scoped=true&\"\nimport script from \"./PersonSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonSearch.vue?vue&type=style&index=0&id=0e6b49d2&lang=pcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e6b49d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"list\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_vm._t(\"default\",null,null,{onItemLoad: _vm.onItemLoad, currentItemIndex: _vm.currentItemIndex, root: _vm.$refs.list})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div ref=\"list\" style=\"display: flex;flex-direction: column;\">\r\n        <slot v-bind=\"{onItemLoad, currentItemIndex, root: $refs.list}\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"UiLazyList\",\r\n    data() {\r\n        return {\r\n            currentItemIndex: 0\r\n        }\r\n    },\r\n    methods: {\r\n        onItemLoad(index) {\r\n            if (this.currentItemIndex === null && index === 0) {\r\n                this.changeCurrentItemIndex()\r\n                \r\n                return;\r\n            }\r\n            \r\n            if (index !== this.currentItemIndex) {\r\n                return\r\n            }\r\n\r\n            this.changeCurrentItemIndex()\r\n        },\r\n        changeCurrentItemIndex() {\r\n            this.currentItemIndex += 1\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiLazyList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiLazyList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UiLazyList.vue?vue&type=template&id=82011454&scoped=true&\"\nimport script from \"./UiLazyList.vue?vue&type=script&lang=js&\"\nexport * from \"./UiLazyList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"82011454\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"lazy\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div ref=\"lazy\">\r\n        <slot/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"UiLazy\",\r\n    props: ['root'],\r\n    data() {\r\n        return {\r\n            options: {\r\n                root: this.root,\r\n                rootMargin: '0px',\r\n                threshold: 0.1\r\n            },\r\n            observer: new IntersectionObserver((event) => {\r\n                if (event[0].isIntersecting) {\r\n                    this.onLoad()\r\n                }\r\n            }, this.options)\r\n        }\r\n    },\r\n    mounted() {\r\n        this.observer.observe(this.$refs.lazy)\r\n    },\r\n    beforeDestroy() {\r\n        this.observer.unobserve(this.$refs.lazy)\r\n    },\r\n    methods: {\r\n        onLoad() {\r\n            this.$emit('load')\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiLazy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UiLazy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UiLazy.vue?vue&type=template&id=192e461e&scoped=true&\"\nimport script from \"./UiLazy.vue?vue&type=script&lang=js&\"\nexport * from \"./UiLazy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"192e461e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"app\">\n        <template v-if=\"isDataLoading\">\n            Загрузка\n        </template>\n\n        <template v-else>\n            <person-search v-model=\"filterString\"/>\n\n            <section>\n                <template v-if=\"filteredAndGroupedPersons.length\">\n                    <ui-lazy-list>\n                        <template v-slot:default=\"{currentItemIndex, onItemLoad, root}\">\n                            <template\n                                v-for=\"([position, persons], index) in filteredAndGroupedPersons\"\n                            >\n                                <ui-lazy\n                                    v-if=\"(currentItemIndex >= index)\"\n                                    :root=\"root\"\n                                    :key=\"position\"\n                                    @load=\"onItemLoad(index)\"\n                                >\n                                    <person-group\n                                        :group-name=\"position\"\n                                        :persons=\"persons\"\n                                        @edit=\"onPersonEdit\"\n                                    />\n                                </ui-lazy>\n                            </template>\n                        </template>\n                    </ui-lazy-list>\n                </template>\n                \n                <template v-else>\n                    Нет данных\n                </template>\n            </section>\n\n            <person-edit\n                v-if=\"isPersonEditMode\"\n                v-model=\"isPersonEditMode\"\n                :person=\"currentEditPerson\"\n                @change=\"changePersonData\"\n            />\n        </template>\n    </div>\n</template>\n<script>\n// use this Service class to load data\nimport ApiService from \"./api/service.js\";\nimport PersonGroup from \"./components/PersonGroup\";\nimport PersonEdit from \"./components/PersonEdit\";\nimport PersonSearch from \"./components/PersonSearch\";\nimport UiLazyList from \"./ui/UiLazyList\";\nimport UiLazy from \"./ui/UiLazy\";\n\nexport default {\n    name: \"App\",\n    components: { UiLazy, UiLazyList, PersonSearch, PersonEdit, PersonGroup},\n    data: () => ({\n        persons: [],\n        positions: [],\n        filterString: \"\",\n        isPersonEditMode: false,\n        currentEditPerson: null,\n        isDataLoading: true,\n    }),\n    created() {\n        this.fetchPersons();\n    },\n    provide() {\n        return {\n            getPositions: () => this.positions\n        }\n    },\n    computed: {\n        filteredPersons() {\n            if (this.filterString) {\n                return this.persons.filter(person => {\n                    const { name, email } = person;\n                    const strArr = [...name.split(\" \"), ...email.split(\"@\")];\n\n                    return strArr.find(str => {\n                        return str.toLowerCase().includes(this.filterString.toLowerCase());\n                    });\n                });\n            }\n\n            return this.persons;\n        },\n        filteredAndGroupedPersons() {\n            const groupedPersons = this.filteredPersons.reduce((acc, person) => {\n                acc[person.position] = acc[person.position] || [];\n                acc[person.position].push(person);\n\n                return acc;\n            }, {});\n\n            return Object.entries(groupedPersons);\n        }\n    },\n    methods: {\n        async fetchPersons() {\n            this.persons = await new ApiService().getPersons();\n            this.isDataLoading = false\n            const positions = []\n            this.persons.forEach(person => positions.push(person.position))\n            \n            this.positions = [...(new Set(positions))]\n        },\n        onPersonEdit(person) {\n            this.currentEditPerson = person\n            this.isPersonEditMode = true;\n        },\n        changePersonData(person) {\n            let changedPerson = this.persons.find(p => p.id === person.id)\n            const changedPersonIndex = this.persons.indexOf(changedPerson)\n            \n            this.persons.splice(changedPersonIndex, 1, person)\n        }\n    }\n};\n</script>\n\n<style lang=\"pcss\" scoped>\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4998cfae&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4998cfae\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './App.vue';\nimport './app.pcss';\n\nVue.config.productionTip = false;\n\nnew Vue({\n    render: (h) => h(App)\n}).$mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCard.vue?vue&type=style&index=0&id=70f5b3c8&lang=pcss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=style&index=0&id=215370ea&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=0&id=6502402c&lang=pcss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonSearch.vue?vue&type=style&index=0&id=0e6b49d2&lang=pcss&scoped=true&\""],"sourceRoot":""}